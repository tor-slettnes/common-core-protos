// -*- protocol-buffers -*-
//==============================================================================
/// @file demo_types.proto
/// @brief data types used in Demo application
/// @author Tor Slettnes <tor@slett.net>
//==============================================================================

syntax = "proto3";

package cc.demo.grpc;

import "google/protobuf/empty.proto";
import "cc/protobuf/signal/signal.proto";
import "cc/demo/protobuf/demo.proto";

//==============================================================================
// Service

// Simple service to showcase command/response and event propagation
service Demo {
    // Send a greeting to other listeners
    rpc SayHello (demo.protobuf.Greeting)
        returns (google.protobuf.Empty);

    // Get the current time
    rpc GetCurrentTime (google.protobuf.Empty)
        returns (demo.protobuf.TimeData);

    // Start streaing time updates at regular intervals
    rpc StartTicking (google.protobuf.Empty)
        returns (google.protobuf.Empty);

    // Stop streaming time updates
    rpc StopTicking (google.protobuf.Empty)
        returns (google.protobuf.Empty);

    // Stream signals from the server
    rpc Watch (cc.protobuf.signal.Filter)
        returns (stream demo.protobuf.Signal);
}
